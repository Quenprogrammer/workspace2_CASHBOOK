<main id="content" role="main" class="main">
  <!-- Only show button when not printing -->
  <button class="btn btn-primary mb-3 no-print" (click)="expandAndPrint()">Print</button>

  <div class="container mt-3">
<div class="row g-1">


<div id="print-section" [ngClass]="{'col-md-8': !isExpanded, 'col-12': isExpanded}">
  <div [ngClass]="{'card': true, 'shadow-none': isExpanded, 'mb-5': true}">
      <div class="card-body " >


        <div class="row justify-content-lg-center">
          <div class="col-sm order-2 order-sm-1 mb-3">
            <div class="mb-2">
              <img class="avatar" [src]="logo" alt="Logo">
            </div>

            <h1 class="h2 text-primary">{{companyName}}</h1>
            <p style="font-size: 14px; color:red; " class=" mt-n2 ">{{website}}</p>

          </div>
          <!-- End Col -->

          <div class="col-sm-auto order-1 order-sm-2 text-sm-end mb-3">
            <div class="mb-3">
              <h2 class="text-center">Invoice #</h2>
            </div>

            <address class="text-dark text-center">
              {{address}},
              {{LGA}}<br>
              {{stateLocated}} {{country}}<br>

            </address>
          </div>
          <!-- End Col -->
        </div>
        <!-- End Row -->

        <div class="row justify-content-md-between mb-3">
          <div class="col-md">

            <h4>Bill To</h4>


            <h5>{{ billToName || 'Name' }}</h5>
            <address style="width:200px">
              {{  BillToAddress || 'Name' }}
            </address>
          </div>
          <!-- End Col -->

          <div class="col-md text-md-end">
            <dl class="row">
              <dt class="col-5" (click)="isModal2Open = true">Invoice date:</dt>
              <dd class="col-4">03/10/2018</dd>
            </dl>
            <dl class="row">
              <dt class="col-5">Due date:</dt>
              <dd class="col-4">     <h5>{{ dueDate || 'Name' }}</h5></dd>
            </dl>
          </div>
          <!-- End Col -->
        </div>
        <!-- End Row -->

        <!-- Table -->
        <div class="table-responsive">
          <table class="table table-borderless table-nowrap table-align-middle">
            <thead class="thead-light">
            <tr>
              <th>Item</th>
              <th>Quantity</th>
              <th>Rate</th>
              <th class="table-text-end">Amount</th>
            </tr>
            </thead>

            <tbody>
            <tr>
              <th>Design UX and UI</th>
              <td>1</td>
              <td>5</td>
              <td class="table-text-end">$500</td>
            </tr>

            <tr>
              <th>Web project</th>
              <td>1</td>
              <td>24</td>
              <td class="table-text-end">$1250</td>
            </tr>

            <tr>
              <th>SEO</th>
              <td>1</td>
              <td>6</td>
              <td class="table-text-end">$2000</td>
            </tr>
            </tbody>
          </table>
        </div>
        <!-- End Table -->



        <table class="table table-nowrap table-vertical-border-striped">
          <thead class="table-text-center">
          <tr>
            <th scope="col" style="width: 40%;"></th>

            <th scope="col" style="width: 20%;">
              <span class="d-block">Professional</span>

            </th>

            <th scope="col" style="width: 20%;">
              <span class="d-block text-danger">Tax <span class="badge bg-warning text-dark rounded-pill ms-1"></span></span>

            </th>

           </tr>
          </thead>

          <tbody>
          <tr>
            <th scope="row" class="text-dark">Subtotal</th>
            <td class="table-text-center">$2750.00</td>
            <td class="table-text-center">20%</td>

          </tr>
          <tr>
            <th scope="row" class="text-dark">Total</th>
            <td class="table-text-center">250,000</td>
            <td class="table-text-center">250,000</td>

           </tr>








          </tbody>
        </table>
<div class="mt-3">
        @for(items of companyPaymentChannels; track items.name){
<div class="row mb-2">
  <div class="col-1 " style="width:10%; "  ><img class="rounded-2" [src]="items.image" style="height: 30px; width:30px;"></div>
  <div class="col-2" style="width:25%;"> {{items.name}} </div>
  <div class="col" style="width:45%;"> {{items.acct}} </div>
  <div class="col" style="width:25%;"> {{items.acctNO}} </div>

</div>
        }
</div>
        <div class="small mb-0">

          <p class="mb-2 mt-2">If you have any questions concerning this invoice, use the following contact information: {{email}}, {{phone}}</p>
          <h3 class="text-center">Thank you!</h3>
        </div>

        <p class="small text-center mb-0">Â© 2025 Sahiz Group NIG
        </p>
      </div>
    </div>
  </div>
  <div class="col-md-4 some-section no-print">


        <!-- Card -->
        <div class="card card-sm shadow-sm mb-4">
          <div class="card-body">
            <div class="border-bottom pb-4 mb-4">
              <h3 class="card-header-title">Order summary</h3>
            </div>
            <div class="border-bottom pb-4 mb-1">
              <input [(ngModel)]="billToName" type="text" class="form-control" name="name" placeholder="Enter promo code" aria-label="Enter promo code">
            </div>
            <div class="border-bottom pb-4 mb-1">
              <input [(ngModel)]=" BillToAddress" type="text" class="form-control" name="name" placeholder="Enter promo code" aria-label="Enter promo code">
            </div>

            <div class="border-bottom pb-4 mb-1">
              <input [(ngModel)]="dueDate" type="date" class="form-control" name="dueDate" placeholder="Due date" aria-label="Enter due date">
            </div>

            <form>


              <div class="border-bottom pb-4 mb-4">
                <div class="d-grid gap-3">
                  <dl class="row">
                    <dt class="col-sm-6">Item subtotal (2)</dt>
                    <dd class="col-sm-6 text-sm-end mb-0">$73.98</dd>
                  </dl>
                  <!-- End Row -->

                  <dl class="row">
                    <dt class="col-sm-6">Delivery</dt>
                    <dd class="col-sm-6 text-sm-end mb-0">Free</dd>
                  </dl>
                  <!-- End Row -->
                </div>
              </div>

              <div class="border-bottom pb-4 mb-4">
                <div class="d-grid gap-3">
                  <!-- Check -->
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="deliveryRadioName" id="deliveryRadio1" checked="">
                    <label class="form-check-label text-dark" for="deliveryRadio1">
                      Free - Standard delivery
                      <span class="d-block text-muted small">Shipment may take 5-6 business days</span>
                    </label>
                  </div>
                  <!-- End Check -->

                  <!-- Check -->
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="deliveryRadioName" id="deliveryRadio2">
                    <label class="form-check-label text-dark" for="deliveryRadio2">
                      $7.99 - Express delivery
                      <span class="d-block text-muted small">Shipment may take 2-3 business days</span>
                    </label>
                  </div>
                  <!-- End Check -->
                </div>
              </div>

              <div class="d-grid gap-3 mb-4">
                <dl class="row">
                  <dt class="col-sm-6">Estimated tax</dt>
                  <dd class="col-sm-6 text-sm-end mb-0">$0.00</dd>
                </dl>
                <!-- End Row -->

                <dl class="row">
                  <dt class="col-sm-6">Total</dt>
                  <dd class="col-sm-6 text-sm-end mb-0">$73.98</dd>
                </dl>
                <!-- End Row -->
              </div>

              <div class="d-grid">
                <a class="btn btn-primary btn-lg" href="../demo-shop/checkout.html">Checkout</a>
              </div>
            </form>
          </div>
          <!-- End Card -->
        </div>

        <!-- Media -->
        <div class="d-flex align-items-center">
          <div class="flex-shrink-0">
            <div class="svg-icon svg-icon-sm text-primary">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M22.1671 18.1421C22.4827 18.4577 23.0222 18.2331 23.0206 17.7868L23.0039 13.1053V5.52632C23.0039 4.13107 21.8729 3 20.4776 3H8.68815C7.2929 3 6.16183 4.13107 6.16183 5.52632V9H13C14.6568 9 16 10.3431 16 12V15.6316H19.6565L22.1671 18.1421Z" fill="#035A4B"></path>
                <path opacity="0.3" fill-rule="evenodd" clip-rule="evenodd" d="M1.98508 18V13C1.98508 11.8954 2.88051 11 3.98508 11H11.9851C13.0896 11 13.9851 11.8954 13.9851 13V18C13.9851 19.1046 13.0896 20 11.9851 20H4.10081L2.85695 21.1905C2.53895 21.4949 2.01123 21.2695 2.01123 20.8293V18.3243C1.99402 18.2187 1.98508 18.1104 1.98508 18ZM5.99999 14.5C5.99999 14.2239 6.22385 14 6.49999 14H11.5C11.7761 14 12 14.2239 12 14.5C12 14.7761 11.7761 15 11.5 15H6.49999C6.22385 15 5.99999 14.7761 5.99999 14.5ZM9.49999 16C9.22385 16 8.99999 16.2239 8.99999 16.5C8.99999 16.7761 9.22385 17 9.49999 17H11.5C11.7761 17 12 16.7761 12 16.5C12 16.2239 11.7761 16 11.5 16H9.49999Z" fill="#035A4B"></path>
              </svg>

            </div>
          </div>
          <div class="flex-grow-1 ms-2">
            <span class="small me-1">Need Help?</span>
            <a class="link small" href="#">Chat now</a>
          </div>
        </div>
        <!-- End Media -->
      </div>



  </div>
</div>

  <div *ngIf="isModal2Open" class="modal-overlay">

    <div class="modal-content">
      <div class="modal-top-cover bg-primary text-center">


        <div class="modal-close">
          <button type="button" class="btn-close btn-close-light" data-bs-dismiss="modal" aria-label="Close" (click)="isModal2Open = false"></button>
        </div>
      </div>
      <!-- End Header -->

      <div class="modal-top-cover-avatar">
        <img class="avatar avatar-lg avatar-circle avatar-centered border border-3 border-white shadow-sm" [src]="logo" alt="Logo">
      </div>

      <!-- Card -->
      <div class="mt-5">


        <!-- Body -->
        <div class="card-body  " style="height: 400px; overflow-y: auto;">
          <!-- Form -->
          <form>
            <div class="container ">

              <form [formGroup]="invoiceForm" (ngSubmit)="onSubmit()">

                <!-- Bill To Section -->
                <h4>Bill To</h4>
                <div class="mb-3">
                  <label class="form-label">Address</label>
                  <input [(ngModel)]="billToName" type="text" class="form-control" formControlName="address" placeholder="Enter address">
                </div>

                <div class="mb-3">
                  <label class="form-label">Date</label>
                  <input type="text" class="form-control" [value]="currentDate" readonly>
                </div>

                <div class="mb-3">
                  <label class="form-label">Invoice Date</label>
                  <input type="date" class="form-control" formControlName="invoiceDate">
                </div>

                <div class="mb-3">
                  <label class="form-label">Due Date</label>
                  <input type="date" class="form-control" formControlName="dueDate">
                </div>

                <!-- Items Section -->
                <h4>Items</h4>
                <div formArrayName="items" *ngFor="let item of items.controls; let i = index">
                  <div [formGroupName]="i" class="mb-3">
                    <div class="row">
                      <div class="col">
                        <label class="form-label">Item</label>
                        <input type="text" class="form-control" formControlName="item" placeholder="Item name">
                      </div>
                      <div class="col">
                        <label class="form-label">Quantity</label>
                        <input type="number" class="form-control" formControlName="quantity" (input)="updateItemAmount(i)">
                      </div>
                      <div class="col">
                        <label class="form-label">Rate</label>
                        <input type="number" class="form-control" formControlName="rate" (input)="updateItemAmount(i)">
                      </div>
                      <div class="col">
                        <label class="form-label">Amount</label>
                        <input type="number" class="form-control" formControlName="amount" [readonly]="true">
                      </div>
                    </div>
                  </div>
                </div>

                <button type="button" class="btn btn-secondary mt-2" (click)="addItem()">Add Item</button>


                <div class="mb-3">
                  <label class="form-label">Professional Tax (%)</label>
                  <input type="number" class="form-control" formControlName="professionalTax" (input)="calculateTotal()">
                </div>

                <div class="mb-3">
                  <label class="form-label">Subtotal</label>
                  <input type="number" class="form-control" formControlName="subtotal" [readonly]="true">
                </div>

                <div class="mb-3">
                  <label class="form-label">Total</label>
                  <input type="number" class="form-control" formControlName="total" [readonly]="true">
                </div>

                <button type="submit" class="btn btn-primary mt-3" [disabled]="invoiceForm.invalid">Submit</button>
              </form>
            </div>


          </form>

          <div class="card hovers  " >
            <!-- Header -->


            <!-- End Header -->


              <div class="col"  >
                <div class="card shadow-none">



                  <div class="row g-1">
                    <div class="col-md-3">  <a class="btn btn-primary w-100" routerLink="/allInvoice">
                      <i class="bi-cursor-fill me-1"></i> All invoice
                    </a></div>
                    <div class="col-md-3">   <a class="btn btn-primary w-100" href="javascript:;">
                      <i class="bi-cursor-fill me-1"></i> Send invoice
                    </a></div>
                    <div class="col-md-3"> <a class="btn btn-white w-100" href="javascript:;">
                      <i class="bi-download me-1"></i> Download
                    </a></div>
                    <div class="col-md-3"> <button class="btn btn-primary mb-3 w-100zz" (click)="expandAndPrint()">
                      <i class="bi-printer me-1"></i>  Print
                    </button></div>
                  </div>









                  <!-- End Row -->

                  <hr class="my-4">


                </div></div>



            <!-- End Body -->
          </div>

        </div>
        <!-- End Body -->
      </div>
      <!-- End Card -->
    </div>

  </div>
</main>


